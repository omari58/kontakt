# =============================================================================
# Kontakt â€” Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values for your deployment.

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_URL=http://localhost:4000
PORT=4000
JWT_SECRET=change-me-to-a-random-secret

# Set to 0 for local dev with self-signed certs (auth.localhost.dev)
NODE_TLS_REJECT_UNAUTHORIZED=0

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://kontakt:kontakt@localhost:5432/kontakt?schema=public

# -----------------------------------------------------------------------------
# File Uploads
# -----------------------------------------------------------------------------
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880

# -----------------------------------------------------------------------------
# OIDC Authentication
# -----------------------------------------------------------------------------
# Local Keycloak (docker-compose.dev.yml):
#   Run: docker compose -f docker-compose.dev.yml up -d
#   Then: ./config/keycloak/apply-keycloak-config.sh
#   Admin console: https://auth.localhost.dev/admin (admin/admin)
#   Test users: admin@kontakt.local/admin, user@kontakt.local/user
OIDC_ISSUER=https://auth.localhost.dev/realms/kontakt
OIDC_CLIENT_ID=kontakt
OIDC_CLIENT_SECRET=kontakt-local-secret
OIDC_CALLBACK_URL=http://localhost:3000/api/auth/callback
OIDC_ADMIN_CLAIM=realm_access.roles
OIDC_ADMIN_CLAIM_VALUE=kontakt-admin

# -----------------------------------------------------------------------------
# Apple Wallet (Phase 2)
# -----------------------------------------------------------------------------
APPLE_PASS_TYPE_ID=pass.com.example.kontakt
APPLE_TEAM_ID=XXXXXXXXXX
APPLE_PASS_CERT_PATH=./certs/apple-pass.pem
APPLE_PASS_KEY_PATH=./certs/apple-pass-key.pem

# -----------------------------------------------------------------------------
# Google Wallet (Phase 2)
# -----------------------------------------------------------------------------
GOOGLE_WALLET_ISSUER_ID=1234567890
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=./certs/google-service-account.json
